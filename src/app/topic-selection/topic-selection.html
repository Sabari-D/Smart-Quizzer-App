<div class="selection-container">
    <div class="selection-card">
        <h2 class="title">Welcome to Smart Quizzer, Dear Champion!</h2>

        <form (ngSubmit)="onSubmit()" #quizForm="ngForm" class="selection-form">

            <div class="input-group">
                <label for="name">Enter your name (required)</label>
                <input type="text" id="name" name="name" [(ngModel)]="formData.name" required>
            </div>

            <div class="input-group">
                <label for="skill-level">Enter your skill level</label>
                <select id="skill-level" name="skill-level" [(ngModel)]="formData.skillLevel" required>
                    <option *ngFor="let level of skillLevels" [value]="level">{{ level }}</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="mode-selector">Choose mode</label>
                <select id="mode-selector" name="mode-selector" [(ngModel)]="formData.mode" required>
                    <option value="topic">Select a Topic to learn</option>
                    <option value="paragraph">Generate Quiz from Paragraph Content</option>
                </select>
            </div>

            <div *ngIf="formData.mode === 'topic'" class="input-group">
                <label for="topic-input">What topic do you want to learn?</label>
                <input 
                    type="text" 
                    id="topic-input" 
                    name="topic-input" 
                    [(ngModel)]="formData.subjectOrContent"
                    placeholder="E.g., The French Revolution, Python Classes, or Atomic Structure" 
                    required>
            </div>

            <div *ngIf="formData.mode === 'paragraph'" class="input-group">
                <label for="content-textarea">Enter any content (Paragraph):</label>
                <textarea 
                    id="content-textarea" 
                    name="content-textarea" 
                    rows="5"
                    [(ngModel)]="formData.subjectOrContent" 
                    placeholder="Paste a paragraph, text, or lesson notes here..."
                    required></textarea>
            </div>

            <div *ngIf="formData.mode === 'topic'" class="input-group">
                <label for="num-quizzes">How many quizzes?</label>
                <input 
                    type="number" 
                    id="num-quizzes" 
                    name="num-quizzes" 
                    [(ngModel)]="formData.numQuizzes" 
                    min="1" 
                    max="10"
                    required>
            </div>
            
            <div *ngIf="formData.errorMessage" class="error-message">
                {{ formData.errorMessage }}
            </div>

            <button type="submit" class="generate-btn" [disabled]="formData.loading || !formData.subjectOrContent">
                <span *ngIf="!formData.loading">Generate Quizzes</span>
                <span *ngIf="formData.loading">Generating Quiz with AI...</span>
            </button>
        </form>
    </div>
</div>